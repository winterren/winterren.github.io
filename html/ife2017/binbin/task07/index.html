<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		#container div{
			min-width: 50px;
			min-height: 20px;
			display: inline-block;
			padding: 5px;
			border: 1px solid #aaa;
			background: #FFF;
		}
	</style>
</head>
<body>
	<div id="container">
		<div>
			<div>
				<div>
					<div></div>
					<div></div>
				</div>
				<div>
					<div></div>
					<div></div>
				</div>
			</div>
			<div>
				<div>
					<div></div>
					<div></div>
				</div>
				<div>
					<div></div>
					<div></div>
				</div>
			</div>
		</div>
	</div>
	<br>
	<div>
		<button id="DLR">前序遍历</button>
		<button id="LDR">中序遍历</button>
		<button id="LRD">后序遍历</button>
	</div>
	<script>
		
		var time1 = 500;
		var time2 = 1000;

		var container = document.getElementById('container');
		var btnDLR = document.getElementById('DLR');
		var btnLDR = document.getElementById('LDR');
		var btnLRD = document.getElementById('LRD');

		function colorDiv(x){
			x.style.background = "#aaa";
		}

		function uncolorDiv(x){
			x.style.background = "#FFF";
		}

		// DLR
		function preOrder(x){
			if(!(x==null)){
				time1 += 500;
				time2 += 500;
				// 上色
				timer = setTimeout(function(){
					colorDiv(x);
				},time1);
				// 去色
				timer = setTimeout(function(){
					uncolorDiv(x);
				},time2);

				preOrder(x.children[0]);
				preOrder(x.children[1]);
			}
		}

		// LDR
		function inOrder(x){
			if(!(x==null)){
				inOrder(x.children[0]);

				time1 += 500;
				time2 += 500;
				// 上色
				timer = setTimeout(function(){
					colorDiv(x);
				},time1);
				// 去色
				timer = setTimeout(function(){
					uncolorDiv(x);
				},time2);


				inOrder(x.children[1]);
			}
		}

		// LRD
		function postOrder(x){
			if(!(x==null)){

				postOrder(x.children[0]);	
				postOrder(x.children[1]);
				
				time1 += 500;
				time2 += 500;
				// 上色
				timer = setTimeout(function(){
					colorDiv(x);
				},time1);
				// 去色
				timer = setTimeout(function(){
					uncolorDiv(x);
				},time2);
			}
		}



		// 绑定事件
		btnDLR.addEventListener('click',function(){
			time1 = 500;
			time2 = 1000;
			preOrder(container.firstElementChild);
		});
		btnLDR.addEventListener('click',function(){
			time1 = 500;
			time2 = 1000;
			inOrder(container.firstElementChild);
		});
		btnLRD.addEventListener('click',function(){
			time1 = 500;
			time2 = 1000;
			postOrder(container.firstElementChild);
		});
	</script>
</body>
</html>